<div class="flex flex-col">
  @if (browsePayload$ | async; as browsePayload) {
    <app-browse-navigation
      [filterDisabled]="!browsePayload.isTracksOnlyDir"
      [dirParam]="browsePayload.dirParam"
      [dirUp]="browsePayload.dirUp"
    ></app-browse-navigation>
  }
  @if (isLoading()) {
    <mat-spinner></mat-spinner>
  }

  @if (browsePayload$ | async; as browsePayload) {
    <div class="flex flex-col md:flex-row md:flex-wrap md:gap-x-4 md:gap-y-12">
      <!-- playlists -->
      @if (browsePayload.playlists.length > 0 && !isLoading()) {
        <app-playlists
          [playlists]="browsePayload.playlists"
          class="flex-grow basis-1/3"
        ></app-playlists>
      }
      <!-- directories -->
      @if (browsePayload.directories.length > 0 && !isLoading()) {
        <app-directories
          [directories]="browsePayload.directories"
          [dirQp]="browsePayload.dirParam"
          class="flex-grow basis-1/3"
        ></app-directories>
      }
      <!-- tracks -->
      @if (browsePayload.queueTracks.length > 0 && !isLoading()) {
        <app-tracks
          [tracks]="browsePayload.queueTracks"
          class="flex-grow basis-1/3"
        ></app-tracks>
      }
    </div>
  }
</div>
